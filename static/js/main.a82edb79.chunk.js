(this["webpackJsonppopular-movies"]=this["webpackJsonppopular-movies"]||[]).push([[0],{11:function(e,t,n){},13:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(6),s=n.n(c),i=(n(11),n(2)),u=n.n(i),o=n(4),l=n(3),j=(n(13),n(0)),p=function(e){var t=e.title;return Object(j.jsx)("div",{children:Object(j.jsx)("h1",{children:t})})};p.defaultProps={title:"Default title"};var b=p,m=function(e){var t=e.movie,n="https://image.tmdb.org/t/p/w500".concat(t.poster_path);return Object(j.jsxs)("div",{className:"movie",children:[Object(j.jsx)("img",{className:"movie__image",alt:t.title,src:n}),Object(j.jsxs)("div",{className:"movie__info",children:[Object(j.jsx)("span",{className:"movie__subject--header",children:t.title}),Object(j.jsxs)("div",{className:"movie__subject",children:[Object(j.jsx)("span",{className:"movie__subject--label",children:"Popul\xe4r:"}),Object(j.jsx)("span",{className:"movie__subject--value",children:t.popularity})]}),Object(j.jsxs)("div",{className:"movie__subject",children:[Object(j.jsx)("span",{className:"movie__subject--label",children:"Betyg:"}),Object(j.jsx)("span",{className:"movie__subject--value",children:t.vote_average})]}),Object(j.jsxs)("div",{className:"movie__subject",children:[Object(j.jsx)("span",{className:"movie__subject--label",children:"R\xf6ster:"}),Object(j.jsx)("span",{className:"movie__subject--value",children:t.vote_count})]}),Object(j.jsx)("span",{className:"movie__subject--overview",children:t.overview})]})]})},v=function(e){var t=e.movies;return Object(j.jsx)("div",{className:"movies",children:t.map((function(e){return Object(j.jsx)(m,{movie:e},e.id)}))})},d=function(e){var t=e.text,n=e.onClick;return Object(j.jsx)("button",{onClick:n,className:"btn-load",children:t})};d.defaultProps={text:"Title"};var h=d,f=[1,2,3,4,5];var O=function(){var e=Object(r.useState)(!1),t=Object(l.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!1),s=Object(l.a)(c,2),i=s[0],p=s[1],m=Object(r.useState)([]),d=Object(l.a)(m,2),O=d[0],x=d[1],_=Object(r.useState)(""),g=Object(l.a)(_,2),N=g[0],y=g[1],k=function(){var e=Object(o.a)(u.a.mark((function e(t){var r,c,s,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),p(!0),r=f.map((function(e){return"https://api.themoviedb.org/3/movie/popular?api_key="+N+"&language=en-US&page="+e})),c=0,s=[],e.next=7,Promise.all(r.map((function(e){return fetch(e,{method:"GET",Headers:{"Content-Type":"application/json;charset=utf-8"}})}))).then(function(){var e=Object(o.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t.map(function(){var e=Object(o.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok){e.next=6;break}return e.next=3,t.json();case 3:return e.abrupt("return",e.sent);case 6:return a(!0),console.log(t.status),p(!1),e.abrupt("return",Promise.reject(t));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 7:i=e.sent,n||(i.map((function(e){return e.results.map((function(e){return s[c]=e,c++,s}))})),s.sort((function(e,t){return e.popularity<t.popularity?1:-1})),x(s),p(!1));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)(b,{title:"100 mest popul\xe4ra filmer just nu"}),Object(j.jsxs)("form",{onSubmit:k,children:[Object(j.jsx)("label",{htmlFor:"inputKey",children:"Ange API key"}),Object(j.jsx)("input",{id:"inputKey",required:!0,type:"text",placeholder:"Ange API key",value:N,onChange:function(e){return y(e.target.value)}}),Object(j.jsx)(h,{type:"submit",text:i?"Laddar":"H\xe4mta filmer"})]}),n?Object(j.jsx)("p",{children:"Oj n\xe5got blev fel"}):null,Object(j.jsx)(v,{movies:O})]})},x=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,16)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};s.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(O,{})}),document.getElementById("root")),x()}},[[15,1,2]]]);
//# sourceMappingURL=main.a82edb79.chunk.js.map